<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link rel="shortcut icon" type="image/x-icon" href="../images/SiSt.ico">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
<title>2022. 6. 14. - 오전 11:21:55</title>
<style>
  p, div {
    margin: 1px;
    padding: 1px;
    font-weight: bold;
    font-size: 16px;
  }
  div {    color: blue;  }
  b {    color: red;  }
</style>
</head>
<body>

<pre>
	map(callback(index, element))
		- 여러 요소에 대해서 반복 처리 실행이 가능한 것
		- return으로 배열인 형태로 추출

	get()
	
	join()
</pre>

<p>
  Hi there <span>how</span> are you <span>doing</span>?
</p>

<p>
  This <span>span</span> is one of
  several <span>spans</span> in this
  <span>sentence</span>.
</p>

<div>
  Tags in jQuery object initially: <b>0</b>
</div>

<div>
  Tags in jQuery object after find: <b>1</b>
</div>

<div>
  Tags in jQuery object after end: <b>2</b>
</div>

<script>

	// jquery에게 없는 함수를 생성(추가) 하겠다.
	$.fn.showTags = function (n) {
		// $("p").showTags(0) 이 코딩 기준으로 this는 p 태그
		var tags = this.map(function () {
						return this.tagName; // 태그명을 문자열로 돌려준다.
					})
					.get() // 선택한 요소를 배열로 가져오는 것 - 여기서는 문자열로 돌려준 것을..
					.join(","); // 배열을 ,으로 묶는다.
		
		$("b:eq("+ n +")").text(tags); // b 요소의 n번째 인덱스에 해당하는 요소에 text 값으로 tags를 넣겠다.
		
		// 자기 자신을 돌려준다. -> find를 하기 전에 자기 요소를 돌려줘야하기 때문에 showTags 메서드에 return을 this로 줌
		return this; 
	}
	
	$("p")
		.showTags(0).find("span")
		.showTags(1).css("background-color", "yellow")
		.end()
		.showTags(2).css("font-style", "italic");
</script>
</body>
</html>