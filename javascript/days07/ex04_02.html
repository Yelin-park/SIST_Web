<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link rel="shortcut icon" type="image/x-icon" href="../images/SiSt.ico">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
<title>2022. 6. 9. - 오전 9:47:33</title>
</head>
<body>
<h3>js 함수 closures(클로저)와 중첩 함수</h3>

<p id="demo"></p>

<!-- 버튼을 클릭할 때 마다 counter 변수의 값이 1씩 증가해서 p#demo에 출력 -->
<button onclick="incCounter()">counter 증가</button>

<script>
// 가정) counter라는 변수의 값을 1 증가 시킬 때는 꼭 add() 함수를 통해서만 1증가 시키도록 하고 싶다.
// counter += 10; // 이렇게 코딩을해도 증가가 되는 것을 하지 못하도록..
	
	// let counter = 0; // 전역변수 - 이렇게 하면 밖에서 증가하는 코딩을하면 증가가 되고
	
	// 지역변수로 선언하면 add() 함수를 호출할 때 마다 지역변수가 생성되고 0으로 초기화가 되고 있어서 1만 나옴
	function add(){
		// closures : 사전적의미 폐쇄
		let counter = 0; // 지역 변수 이지만 전역변수처럼 사용 가능하도록(변경되는 값이 유지) 하는 기술이 closures + 중첩함수를 사용하면 해결이 가능하다.
		counter += 1;
		return counter;
	}
	
	function incCounter(){
		document.getElementById("demo").innerHTML = add(); // 1
	}
	
</script>

<!-- <script>
	let counter = 0; // 전역변수
	
	function add(){
		counter += 1;
	}
	
	add(); // 1
	add(); // 2
	add(); // 3
	
	document.getElementById("demo").innerHTML = counter; // 3
	
	// 가정) counter라는 변수의 값을 1 증가 시킬 때는 꼭 add() 함수를 통해서만 1증가 시키도록 하고 싶다.
	// counter += 10; // 이렇게 코딩을해도 증가가 되는 것을 하지 못하도록..
</script> -->
</body>
</html>