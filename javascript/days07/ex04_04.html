<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link rel="shortcut icon" type="image/x-icon" href="../images/SiSt.ico">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
<title>2022. 6. 9. - 오전 10:34:51</title>
</head>
<body>
<h3>js에서 클로저를 사용하는 예제</h3>
<!-- 클릭한 버튼의 값이 1씩 증가하는 코딩 -->
<button>0</button>
<button>0</button>
<button>0</button>
<button>0</button>
<button>0</button>
<button>0</button>
<button>0</button>
<button>0</button>
<button>0</button>
<button>0</button>
<button>0</button>
<button>0</button>
<button>0</button>
<button>0</button>
<button>0</button>
<button>0</button>
<button>0</button>
<button>0</button>
<button>0</button>
<button>0</button>

<script>
// js 클로저 코딩
	var btns = document.getElementsByTagName("button");
	for (var i = 0; i < btns.length; i++) {
		btns[i].onclick = (function () { // 자체 호출 함수 (한번만 실행)
							let counter = 0; // 각각의 버튼들이 counter 변수를 가지고 있음
							return function(){ // 중첩함수 - 실행할 때 마다 중첩함수를 실행
								event.srcElement.innerHTML = ++counter;
							}			
						  })();
	}; //for
</script>

<script>
// 배열로 선언하여 처리
/* 	var counters = [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];
	$("button").click(function(event) {
		// jquery - index() : 
		var index = $(this).index(); // 이벤트가 발생한 요소의 인덱스값
		counters[index]++;
		$(this).html(counters[index]);
	}); */
</script>

<script>
// jq 코딩
/* 	$("button").click(function(event) {
		var n = parseInt($(this).html());
		$(this).html(++n);
	}); */
</script>

<script>  
// js 코딩
/* 	var btns = document.getElementsByTagName("button");
	for (var i = 0; i < btns.length; i++) {
		btns[i].onclick = function () {
			// this 사용해도됨
			var n = parseInt(event.srcElement.innerHTML);
			event.srcElement.innerHTML = ++n;
		}
	} */
</script>
</body>
</html>