<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link rel="shortcut icon" type="image/x-icon" href="../images/SiSt.ico">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
<title>2022. 6. 9. - 오후 12:23:28</title>
<style>
	#container{
		width: 400px;
		height: 400px;
		position: relative;
		background-color: yellow;
	}
	
	.animate{
		width: 50px;
		height: 50px;
				position: absolute;
		background-color: red;
		border-radius: 50%;
	}
</style>
</head>
<body>
<button onclick="make();">Click Me</button>
<br>
<br>
<div id="container">

</div>

<script>
	var no = 1;
	function make(){
		var newCircle = document.createElement("div");
		newCircle.className = "animate";
		newCircle.setAttribute("id", "animate" + no);
		
		document.getElementById("container").appendChild(newCircle);
		
		myMove("animate" + no);
		no++;
	}
	
	function myMove(id){ // id 매개변수있음
		// 클로저 기능으로 폐쇄 되어져있음
		var elem = document.getElementById(id); // id 값에 해당하는 요소를 가져오겠다.
		var posX = 0, posY = 0;
		// var x = 6, y = 9;
		var x = parseInt(Math.random()*8)+2 , y = parseInt(Math.random()*8)+2;
		var timer = setInterval(function(){ // 중첩 함수
			if ( posY >= 350 || posY <= 0 )  y *= -1;  // y 방향 바꾼다.
	        if ( posX >= 350 || posX <= 0 )  x *= -1;	        
	         
	             posX += x;  // 6
	             posY += y; // 9
	             
	             if(  posX < 0  ) posX = 0;
	             else if( posX > 350 ) posX = 350;
	             if(  posY < 0  ) posY = 0;
	             else if( posY > 350 ) posY = 350;
	             
	             elem.style.left = posX+"px";
	             elem.style.top = posY+"px";
		}, 10);
	}
</script>

</body>
</html>