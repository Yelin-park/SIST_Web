<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link rel="shortcut icon" type="image/x-icon" href="../images/SiSt.ico">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
<title>2022. 6. 8. - 오후 4:21:59</title>
</head>
<body>
<!-- setInterval / clearInterval 사용 -->
<button>TypeWriter</button>
<p id="demo"></p>

<script>
	// 전역변수
	var content;
	var contentLength;
	var demo = document.getElementById("demo");
	var i = 0;
	var timer;
	
	$("button").click(function (event) {
		// <html> 루트 요소(root element) 얻어오려면 => document.documentElement
		content = document.documentElement.innerHTML;
		// alert(content); // html 문서에 있는 모든 html 태그를 가져옴
		contentLength = content.length;
		
		typeWriter();
		timer = setInterval(typeWriter, 10);
		
	});
	
	function typeWriter(){
		if(i <= contentLength){
			var oneChar = content.charAt(i++);
			demo.innerHTML += (oneChar == '\n' ? '<br>' : oneChar);
			// window.scrollTo(0, 0) // 맨 위로 스크롤 올리기
			window.scrollTo(0, document.body.scrollHeight); // 맨 아래로 스크롤 내리기
		} else {
			clearInterval(timer);
			alert("출력 완료!!");
		} // if
	}
	
</script>
</body>
</html>