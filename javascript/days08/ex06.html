<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link rel="shortcut icon" type="image/x-icon" href="../images/SiSt.ico">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
<title>2022. 6. 10. - 오후 12:38:06</title>
<script src="cookie.js"></script>
</head>
<body>
<h3>ex06.html - js 마지막 예제</h3>
<!--
js class 상속 -> 수업X
js 그래픽 -> 수업X
js 웹 API -> jsp 중간 쯤
js Ajax(아작스, 에이작스) -> jsp 수업 끝날때 쯤
js JSON -> jsp 수업 끝날때 쯤
-->

<!-- 
라디오 버튼을 선택하면
1) 배경이미지로 설정
2) 쿠키 저장 (쿠키이름 : bgimg, 쿠키값:item01, 만료시점: +10일)
 -->
<table border="1" style="background-color:white; width:400px; margin: 0 auto;">
	<tr>
		<td><img src="../images/item01.gif" alt="" /></td>
		<td><img src="../images/item02.gif" alt="" /></td>
		<td><img src="../images/item03.gif" alt="" /></td>
	</tr>
	<tr>
		<td><input type="radio" checked="checked" name="bgImages" id="item01" value="item01">item01</td>
		<td><input type="radio" name="bgImages" id="item02" value="item02">item02</td>
		<td><input type="radio"  name="bgImages" id="item03" value="item03">item03</td>
	</tr>
</table>

<script>
	var cname = "bgimg"; // 쿠키 이름
	var cvalue = "item01"; // 쿠키값 (읽어와야하지만 기본값을 설정)
	var expdays = 10; // 쿠키 만료시점
	
	window.onload = function () {
		// bgimg에 해당하는 쿠키값이 있는지 확인(쿠키값 얻어오기)
		// cookie.js 사용
		cvalue = getCookie(cname);
		if(cvalue){
			document.body.style.backgroundImage = "url(../images/" + cvalue + ".gif)";
			document.getElementById(cvalue).checked = "checked";
		} else { // false일 경우 null로 넘어옴
			document.body.style.backgroundImage = "url(../images/item01.gif)";
		} // if
		
		// 라디오 버튼을 클릭할 때 1) 배경이미지도 변경하고 2) 쿠키도 저장하겠다.
		var rdbs = document.getElementsByName("bgImages");
		for (var i = 0; i < rdbs.length; i++) {
			rdbs[i].onclick = function () {
				// console.log(this.value); 
				// console.log(rdbs[i]);
				var imgName = this.value;
				document.body.style.backgroundImage = "url(../images/" + imgName + ".gif)";
				setCookie(cname, imgName, expdays);
			} // onclick
		} // for
	} // onload
</script>
</body>
</html>